version: "3.7"
services:

  discovery:
    image: andriidovbenko/docker-services-trainings:docker-discovery-server
    container_name: discovery
    restart: on-failure
    ports:
      - 8761:8761
    networks:
    - movie-service

  config:
    image: andriidovbenko/docker-services-trainings:docker-config-server
    container_name: config
    depends_on:
      - discovery
    ports:
    - 8888:8888
    networks:
    - movie-service

  movie-info:
    image: andriidovbenko/docker-services-trainings:docker-movie-info
    container_name: info
    restart: on-failure
    depends_on:
      - discovery
      - config
    ports:
    - 8083:8083
    networks:
    - movie-service

  ratings-data:
    image: andriidovbenko/docker-services-trainings:docker-ratings-data
    container_name: ratings
    restart: on-failure
    depends_on:
      - discovery
      - config
    ports:
    - 8082:8082
    networks:
    -  movie-service

  movie-catalog:
    image: andriidovbenko/docker-services-trainings:docker-movie-catalog
    container_name: catalog
    restart: on-failure
    depends_on:
      - discovery
      - config
    ports:
    - 8084:8084
    networks:
    - movie-service

networks:
  movie-service: